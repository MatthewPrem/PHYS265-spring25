#  Pynbody: Where's the point?

Author: Matthew Prem<br>
Date: 5/12/2025

[1] The pynbody package is a python packaged creaed to allow for easy visualization of and interaction with the output files of a n-body program. This packages doesn not run n-body simulations itself, just allows for easy visualization of snapshots generated by the n-body simulators.

[2] I selected this package because I am rather intersted in n-body simulations, having attempted (unsuccessfuly, after writing a buggy kernel to dynaically resize the simulation domain) to create an interactive GPU n-body simulator while in high school. While I wanted to review a professional GPU acceerated N-body code, I wasn't able to find any that was purely python-based with the most performant programs written in C++, C, or Fortran. There is a Python version of CUDA, so it is definitally possible to create a GPU-accelerated n-body package purely in python, but I wasn't able to find any on ASCL. I figured the next closest thing was a highly parallized CPU n-body code, so I checked out the CONCEPT package, but found that it took a very long time to run, so I started looking at something more lightweight. At that point, I found Pynbody, a Python-centered package designed to visualize snapshots and other output files from more dedicated n-body code. I also learned that Pynbody had an interactive, GPU-accelerated addition called Topsy, which seemed to closely align with my original interests in creating an interactive visualizer so I decided to do my project on it. I was originally under the impression that Pynbody could also run the simulations itself, but learned rather quickly that it is unable to do so and it purely a visualization library. I considered switching to Pnbody, but decided I wanted to stick with the package which makes more use of the GPU in addition to getting the impression when skimming its documentation that it was also merely a visualization tool.

[3] The version of Pynbody that I installed was 2.1.1, which at the time of writing is the most up-to-date version. The first commit to the GitHub of Pynbody was made on October 31,2014, but Pynbody as a project had already been around for some time at that point as evidenced by its publication date on <a href="https://ui.adsabs.harvard.edu/abs/2013ascl.soft05002P/abstract">ADS</a> being May 2013 and the copyright on its <a href="https://pynbody.readthedocs.io/latest/">documentation</a> covering from 2011 to 2024. I could not find information on whether Pynbody had come out of a previous package, but that doesn't mean it wasn't influenced by previous visualization packages written in other languages. Since Pynbody is still in active development, it doesn't have a clear successor, but it does have the <a href="https://github.com/pynbody/topsy">Topsy</a> toy-project for interactive visualization. Another popular N-body visualization package, <a href="https://gitlab.com/revaz/pNbody">Pnbody</a> appears to have been developed concurrently with Pynbody, as it was originally published in February 2013, just a few months before Pynbody.

[4] Pynbody is still maintained by its original author, Andrew Pontzen, with new commits to the package's GitHub page continuing. As of the time of writing, the most recent commit was made on April 14, 2025 by Andrew Pontzen. If you want to contribute to this package, you can follow the intructions detailed on <a href="https://pypi.org/project/pynbody/">Pynbody's PyPI page</a>. The two main ways of contributing to the package are to write a tutorial on how to use a specific feature, or submit your code to the relavent sub-module and submit a pull request after creating a local form of the Pynbody repository.

[5] The package itself was rather easy to install, with a pip install successfully seting everything up for the main package. Pynbody also has a very thurough series of tutorials which are really helpful for getting started and providing "boilerplate" code which is easier to modifiy than typing everything yourself. Topsy, on the other hand, was really difficult to work with, though I doubt that is the package's fault as several things were more difficult than they should be since I had to do everything using the Linux Subsystem for Windows (WSL). The main complaint that Topsy had was that my graphics cards didn't support the "FLOAT32_FILTERABLE" extention, even though my graphics card (Nvidia RTX 4070 mobile) has the necessary hardware to support it. I was able to get Topsy to work after reinstalling my graphics drivers, but when I came back to the project after a several day break for other finals, I found that it had decided to stop working even after reinstalling graphics drivers.